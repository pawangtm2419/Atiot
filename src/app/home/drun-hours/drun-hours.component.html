<div style="margin-left:2%; margin-right: 1%; margin-top: 2%;">
<!-- <div *ngIf="!variant || inActive == false">
    <span class="spinner-border spinner-border-lg align-center"></span>
</div> -->
<div class="row">
    <div class="col-md-6 banner-sec">
        <a routerLink="/dashboard"><i class="fa fa-arrow-circle-left" style="margin: 10px 0;"></i> Back </a>
        <h5 style="margin-bottom: 2%;">
            Vehicle Run Hours Statistics
        </h5>
    </div>
    <div class="col-md-6 banner-sec m-mb-1">
        <div ng-app ng-controller="Ctrl" style="text-align: right;">
            <b style="margin-bottom: 0px;">
                {{date | date:'dd.MM.yyyy'}}
            </b>
        </div>
        <div style="text-align: right;">
            {{date | date:'EEEE'}}
        </div>
    </div>
</div>


<div class="row" style="margin-bottom: 10px;">
    <div class="col-md-6">
        <div class="input-group-icon input-group-icon-left mr-3">
            <form class="form-inline">
                <i class="fas fa-search" aria-hidden="true"></i>
                <input class="form-control form-control-sm ml-3 w-87 m-mb-1" id="key-search" type="text" name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="Search" style="background-color: #d9d9d9; ">
            </form>
        </div>
    </div>
    <div class="col-md-6">
        <div class="row">
            <div class="col-md-6 offset-md-6">
                <select class="form-control" (change)="select($event)">
                    <option selected value="lastmonth">Last Month</option>
                    <option value="currentmonth">Current Month</option>
                    <option value="currentyear">Current Year</option>
                </select>
            </div>
        </div>
    </div>
</div>


<div class="tableFixHead" *ngIf="selected == 'lastmonth'">
    <div class="row">
        <div class="col-md-3">
            <select class="form-control" [(ngModel)]="selectCount" [value]="selectCount" (ngModelChange)="changeLastMonth()">
                <option value="fiftyCount">0 Hrs to 50 Hrs</option>
                <option value="fiftyplusCount">50 Hrs to 150 Hrs</option>
                <option value="onefiftyplusCount">Above 150 Hrs</option>
            </select>
        </div>
    </div>
    <table class="table table-striped table-bordered table-hover" style="margin-top: 10px;">
        <thead class="thead-dark">
            <tr>
                <th>#</th>
                <th>Model</th>
                <th>{{pinNo}}</th>
                <th>Engine Hrs</th>
                <!-- <th>Category</th>
                <th>Utilization</th> -->
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let run of countData | filter:searchText | paginate : {itemsPerPage : 50, currentPage : p} let i = index ">
                <td>{{50*(p-1)+i+1}}</td>
                <td>{{run.deviceModel}}</td>
                <td>{{ run.pinno }}</td>
                <td>{{ (run.totalSecond)*(1/3600)| number }}</td>
                <!-- <td></td>
                <td></td> -->
            </tr>
        </tbody>
    </table>
</div>
<div class="tableFixHead" *ngIf="selected == 'currentmonth'">
    <div class="row">
        <div class="col-md-3">
            <select class="form-control" [(ngModel)]="selectCount2" [value]="selectCount2" (ngModelChange)="changeCurrentMonth()">
                <option selected value="fiftyCount">0 Hrs to 50 Hrs</option>
                <option value="fiftyplusCount">50 Hrs to 150 Hrs</option>
                <option value="onefiftyplusCount">Above 150 Hrs</option>
            </select>
        </div>
    </div>
    <table class="table table-striped table-bordered table-hover" style="margin-top: 10px;">
        <thead class="thead-dark">
            <tr>
                <th>#</th>
                <th>Model</th>
                <th>Pin No</th>
                <th>Engine Hrs</th>
                <!-- <th>Category</th>
                <th>Utilization</th> -->
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let run of currentCountData | filter:searchText | paginate : {itemsPerPage : 50, currentPage : p} let i = index ">
                <td>{{50*(p-1)+i+1}}</td>
                <td> {{run.deviceModel}} </td>
                <td>{{ run.pinno }}</td>
                <td>{{ (run.totalSecond)*(1/3600)| number }}</td>
                <!-- <td></td>
                <td></td> -->
            </tr>
        </tbody>
    </table>
</div>
<div class="tableFixHead" *ngIf="selected == 'currentyear'">
    <div class="row">
        <div class="col-md-3">
            <select class="form-control" [(ngModel)]="selectCount3" [value]="selectCount3" (ngModelChange)="changeCurrentYear()">
                <option selected value="fiftyCount">0 Hrs to 50 Hrs</option>
                <option value="fiftyplusCount">50 Hrs to 150 Hrs</option>
                <option value="onefiftyplusCount">Above 150 Hrs</option>
            </select>
        </div>
    </div>
    <table class="table table-striped table-bordered table-hover" style="margin-top: 10px;">
        <thead class="thead-dark">
            <tr>
                <th>#</th>
                <th>Model</th>
                <th>Pin No</th>
                <th>Engine Hrs</th>
                <!-- <th>Category</th>
                <th>Utilization</th> -->
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let run of currentYCountData | filter:searchText | paginate : {itemsPerPage : 50, currentPage : p} let i = index ">
                <td>{{50*(p-1)+i+1}}</td>
                <td>{{ run.deviceModel }}</td>
                <td>{{ run.pinno }}</td>
                <td>{{ (run.totalSecond)*(1/3600)| number }}</td>
                <!-- <td></td>
                <td></td> -->
            </tr>
        </tbody>
    </table>
</div>
<div class="row">
    <div class="col-md-2">

    </div>
    <div class="col-md-4">

    </div>
    <div class="col-md-6">
        <div class="input-group-icon input-group-icon-left mr-3">
            <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>
    </div>
</div>
</div>