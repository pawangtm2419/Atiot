<div class="row">
    <div class="col-md-6">
        <h3 style="margin-bottom: 5%;">
            User Logs
        </h3>
    </div>
    <div class="col-md-6">
        <div ng-app ng-controller="Ctrl" style="text-align: right; margin-top: 10px;">
            <b style="margin-bottom: 0px;">
                <!-- {{date | date:'dd.MM.yyyy'}} -->
            </b>
        </div>
        <div style="text-align: right;">
            <!-- {{date | date:'EEEE'}} -->
        </div>

    </div>

</div>






<!-- <a routerLink="add" class="btn btn-sm btn-success mb-2">Add User</a> -->
<div class="row" style="margin-bottom: 10px;">
    <div class="col-md-5">
        <div class="input-group-icon input-group-icon-left mr-3">
            <form class="form-inline">
                <i class="fas fa-search" aria-hidden="true"></i>
                <input class="form-control form-control-sm ml-3 w-75" id="key-search" type="text" name="search"
                    [(ngModel)]="searchText" autocomplete="off" placeholder="Search"
                    style="background-color: #d9d9d9; ">
            </form>
        </div>
    </div>
    <div class="col-md-6">
        <form class="form-inline" [formGroup]="form" style="float:right;">
            <label>From</label> &nbsp;
            <input type="date" class="form-control" [ngModel]="startDate | date:'yyyy-MM-dd'" max="{{startDate}}"
                formControlName="startDate" style="padding: 0px 10px; margin-right: 15px;">
            <label>To</label> &nbsp;
            <input type="date" class="form-control" [ngModel]="endDate | date:'yyyy-MM-dd'" min="{{endDate}}"
                formControlName="endDate" placeholder="Tosasasasas" style="padding: 0px 10px; margin-right: 10px;">
            <button class="btn btn-primary" type="button" type="submit"
                style="padding: 6px 7px; float: right; border: none;" (click)="showSummaryData()">GO!</button>&nbsp;
            <button class="btn btn-primary" type="button" type="submit"
                style="padding: 6px 7px; float:right; border: none;" (click)="showDetailsData()">Show All</button>
        </form>
    </div>
</div>



<div class="tableFixHead" *ngIf="showSummary">
    <table class="table table-striped table-bordered table-hover" style="margin-top: 10px;">
        <thead class="thead-dark" style="position: sticky;">
            <tr>
                <th>#</th>
                <th>Module</th>
                <th>Function</th>
                <th>Hit Count</th>
            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="let item of userLogsSummaryData | filter:searchText | paginate : {itemsPerPage :itemsperpage, currentPage : p} let i = index ">
                <td>{{itemsperpage *(p-1)+i+1}}</td>
                <td>{{item._id.module}}</td>
                <td>{{item._id.function}}</td>
                <td>{{item.count}}</td>
            </tr>

            <!-- <tr *ngIf="!customer">
            <td colspan="4" class="text-center">
                <span class="spinner-border spinner-border-lg align-center"></span>
            </td>
        </tr> -->
        </tbody>
    </table>

  
</div>
<div class="tableFixHead"  *ngIf="showDetails">
    <table class="table table-striped table-bordered table-hover" style="margin-top: 10px;">
        <thead class="thead-dark" style="position: sticky;">
            <tr>
                <th>#</th>
                <th>Module</th>
                <th>Function</th>
                <th>Login Name</th>
                <th>Type</th>
                <th>Accessed On</th>
            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="let item of userLogsDetails | filter:searchText | paginate : {itemsPerPage : itemsperpage, currentPage : p} let i = index ">
                <td>{{itemsperpage *(p-1)+i+1}}</td>
                <td>{{item.module}}</td>
                <td>{{item.function}}</td>
                <td>{{item.loginName}}</td>
                <td>{{item.type}}</td>
                <td>{{item.createdAt | date:'dd-MM-yyyy h:mm:ss a':'+0000'}}</td>
            </tr>

            <!-- <tr *ngIf="!customer">
            <td colspan="4" class="text-center">
                <span class="spinner-border spinner-border-lg align-center"></span>
            </td>
        </tr> -->
        </tbody>
    </table>
</div>
<div class="row">
    <div class="col-md-2">


    </div>
    <div class="col-md-4">

    </div>
    <div class="col-md-6">
        <div class="input-group-icon input-group-icon-left mr-3">
            <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>
    </div>
</div>