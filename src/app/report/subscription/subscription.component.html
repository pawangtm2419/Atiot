<div style="margin-left:2%; margin-right: 1%; margin-top: 2%;">
<div class="row">
    <div class="col-md-6">
        <a routerLink="/dashboard"><i class="fa fa-arrow-circle-left" style="margin: 10px 0;"></i> Back </a>
        <h5 style="margin-bottom: 2%;">
            Subscription Report (In development)
        </h5>
    </div>
    <div class="col-md-6 mob-date">
        <div ng-app ng-controller="Ctrl" style="text-align: right;">
            <b style="margin-bottom: 0px;">
                {{date | date:'dd.MM.yyyy'}}
            </b>
            </div>
            <div style="text-align: right;">
              {{date | date:'EEEE'}}
            </div>
           
    </div>

</div>


<!-- <a routerLink="add" class="btn btn-sm btn-success mb-2">Add User</a> -->
<div class="row" style="margin-bottom: 10px;">
    <div class="col-md-5" >
        <div class="input-group-icon input-group-icon-left mr-3">
            <form class="form-inline">
            <i class="fas fa-search" aria-hidden="true"></i>
            <input class="form-control form-control-sm ml-3 w-87 m-mb-1" id="key-search" type="text"
                name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="Search"
                style="background-color: #d9d9d9; ">
        </form>
        </div>
    </div>
    <div class="col-md-6 offset-md-1">
        <form class="form-inline"  style="float: right;">
         Expiring(Days):
          <input type="text" class="form-control m-w-85" value="30" style="padding: 0px 5px; margin-right: 5px;">
          <button class="btn btn-primary" type="button" type="submit"
            style="padding: 6px 7px; float: right; border: none;">GO!</button>
    
        </form>
      </div>
</div>



<div class="tableFixHead">   
<table class="table table-striped table-bordered table-hover" style="margin-top: 10px;">
    <thead class="thead-dark" style="position: sticky;">
        <tr>
        
            <th rowspan="2">#</th>
            <th rowspan="2">Model</th>
            <th rowspan="2">Pin No.</th>
            <th rowspan="2">Total Hrs</th>
            <th  rowspan="2">Mapping Date</th>
            <th rowspan="2">Comm. Date</th>
            <th rowspan="2">Bootstrap Days</th>
            <th colspan="3">Subscription</th>
            <th colspan="3">Customer</th>
            <th colspan="2">Dealer</th>
            <th rowspan="2">Renew</th>
            <th rowspan="2">Notify</th>
        </tr>
        <tr>
            <th>Expiring(Days)</th>
            <th>Expiry Date</th>
            <th>Duration</th>
            <th>Name</th>
            <th>Contact</th>
            <th>State</th>
            <th>Name</th>
            <th>Contact</th>
        </tr>
    </thead>
    <tbody>

        <tr *ngFor="let s of subscriptionList | filter:searchText | paginate : {itemsPerPage : 50, currentPage : p} let i = index">
            <td>{{ i+1 }}</td>
            <td>{{ s.deviceModel }}</td>
            <td>{{ s.pinno }}</td>
            <td>{{ s.totalEngineHours }}</td>
            <td>
                {{s.MappingDate| slice:8:10}}-{{s.MappingDate| slice:5:7}}-{{s.MappingDate| slice:0:4}} 
             </td>
            <td>
                {{s.commisionDate | slice:8:10}}-{{s.commisionDate| slice:5:7}}-{{s.commisionDate| slice:0:4}} 
                <!-- <br>
                {{s.commisionDate | date:'h:mm:ss a':'+0000'}} -->
            </td>
            <td>{{ s.BootstrapDays }}</td>
            <td>{{ s.ExpiringDays }}</td>
            <td>
                {{s.ExpireDate | slice:8:10}}-{{s.ExpireDate| slice:5:7}}-{{s.ExpireDate| slice:0:4}} 
            </td>
            <td>{{ s.Duration }}</td>
            <td>{{ s.Name }}</td>
            <td>{{ s.Contact }}</td>
            <td>{{ s.State }}</td>
            <td>--</td>
            <td>--</td>
            <td>--</td>
            <td>--</td>
        </tr>

        <tr *ngIf="!subscriptionList">
            <td colspan="4" class="text-center">
                <span class="spinner-border spinner-border-lg align-center"></span>
            </td>
        </tr>
    </tbody>
</table>
</div>
<div class="row">
    <div class="col-md-2">
        
    </div>
    <div class="col-md-4">

    </div>
    <div class="col-md-6">
        <div class="input-group-icon input-group-icon-left mr-3">
            <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>
    </div>
</div>
</div>